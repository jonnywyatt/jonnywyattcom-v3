{"version":3,"sources":["../../../src/common/utils/check-state.js"],"names":["dispatch","matchedRoute","state","actions","needs","dynamicNeeds","staticNeeds","filter","needTypes","needName","stateDataPoint","promises","map","action","getAction","featureToggles","Promise","all"],"mappings":";;;;;;AAAA;;;;;;;;kBAEe,UAACA,QAAD,EAAWC,YAAX,EAAyBC,KAAzB,EAAgCC,OAAhC,EAA4C;AACzD,MAAMC,qCACDH,aAAaI,YADZ,sBAEDJ,aAAaK,WAAb,CAAyBC,MAAzB,CAAgC;AAAA,WAAY,CAAC,sBAAKL,KAAL,EAAYM,UAAUC,QAAV,EAAoBC,cAAhC,CAAb;AAAA,GAAhC,CAFC,EAAN;;AAKA,MAAMC,WAAWP,MAAMQ,GAAN,CAAU,UAACH,QAAD,EAAc;AACvC,QAAMI,SAASC,UAAUX,OAAV,EAAmBK,UAAUC,QAAV,CAAnB,EAAwCP,MAAMa,cAA9C,CAAf;AACA,WAAOf,SAASa,OAAOZ,YAAP,CAAT,CAAP;AACD,GAHgB,CAAjB;;AAKA,SAAOe,QAAQC,GAAR,CAAYN,QAAZ,CAAP;AACD,C","file":"check-state.js","sourcesContent":["import _get from 'lodash.get';\n\nexport default (dispatch, matchedRoute, state, actions) => {\n  const needs = [\n    ...matchedRoute.dynamicNeeds,\n    ...matchedRoute.staticNeeds.filter(needName => !_get(state, needTypes[needName].stateDataPoint))\n  ];\n\n  const promises = needs.map((needName) => {\n    const action = getAction(actions, needTypes[needName], state.featureToggles);\n    return dispatch(action(matchedRoute));\n  });\n\n  return Promise.all(promises);\n};\n"]}