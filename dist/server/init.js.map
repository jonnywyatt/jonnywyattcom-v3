{"version":3,"sources":["../../src/server/init.js"],"names":["express","require","exphbs","path","cookieParser","bodyParser","app","hbs","create","extname","defaultLayout","join","__dirname","engine","set","use","json","urlencoded","extended","static","env","get","appConfig","init","info","listen","module","exports"],"mappings":";;AAAA;;;;AACA;;;;;;AAEA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,SAASD,QAAQ,oBAAR,CAAf;AACA,IAAME,OAAOF,QAAQ,MAAR,CAAb;AACA,IAAMG,eAAeH,QAAQ,eAAR,CAArB;AACA,IAAMI,aAAaJ,QAAQ,aAAR,CAAnB;;AAEA,IAAMK,MAAMN,SAAZ;;AAEA;AACA,IAAMO,MAAML,OAAOM,MAAP,CAAc;AACxBC,WAAS,MADe;AAExBC,iBAAeP,KAAKQ,IAAL,CAAUC,SAAV,EAAqB,+BAArB;AAFS,CAAd,CAAZ;AAIAN,IAAIO,MAAJ,CAAW,KAAX,EAAkBN,IAAIM,MAAtB;AACAP,IAAIQ,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;AACAR,IAAIQ,GAAJ,CAAQ,OAAR,EAAiBX,KAAKQ,IAAL,CAAUC,SAAV,EAAqB,wBAArB,CAAjB;;AAGAN,IAAIS,GAAJ,CAAQV,WAAWW,IAAX,EAAR;AACAV,IAAIS,GAAJ,CAAQV,WAAWY,UAAX,CAAsB,EAAEC,UAAU,KAAZ,EAAtB,CAAR;AACAZ,IAAIS,GAAJ,CAAQX,cAAR;AACAE,IAAIS,GAAJ,CAAQf,QAAQmB,MAAR,CAAehB,KAAKQ,IAAL,CAAUC,SAAV,EAAqB,cAArB,CAAf,CAAR;;AAEA,IAAMQ,MAAMd,IAAIe,GAAJ,CAAQ,KAAR,CAAZ;AACA,IAAMC,YAAYrB,0BAAwBmB,GAAxB,WAAlB;AACAd,IAAIe,GAAJ,CAAQ,GAAR,EAAa,yBAAUC,SAAV,EAAqBC,IAAlC;AACA,iBAAOC,IAAP,CAAY,kCAAZ;AACAlB,IAAImB,MAAJ,CAAW,IAAX;;AAEAC,OAAOC,OAAP,GAAiBrB,GAAjB","file":"init.js","sourcesContent":["import reactInit from './middleware/react-init';\nimport logger from '../common/utils/logger';\n\nconst express = require('express');\nconst exphbs = require('express-handlebars');\nconst path = require('path');\nconst cookieParser = require('cookie-parser');\nconst bodyParser = require('body-parser');\n\nconst app = express();\n\n// view engine setup\nconst hbs = exphbs.create({\n  extname: '.hbs',\n  defaultLayout: path.join(__dirname, '../../src/server/views/layout')\n});\napp.engine('hbs', hbs.engine);\napp.set('view engine', 'hbs');\napp.set('views', path.join(__dirname, '../../src/server/views'));\n\n\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: false }));\napp.use(cookieParser());\napp.use(express.static(path.join(__dirname, '../../public')));\n\nconst env = app.get('env');\nconst appConfig = require(`../../config/${env}.json`);\napp.get('*', reactInit(appConfig).init);\nlogger.info('Application started on port 3000');\napp.listen(3000);\n\nmodule.exports = app;\n"]}